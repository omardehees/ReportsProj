
<link rel="stylesheet" href="~/css/viewer.part.bundle.css" />
<link rel="stylesheet" href="~/css/designer.part.bundle.css" />
<script src="~/js/viewer.part.bundle.js"></script>
<script src="~/js/designer.part.bundle.js"></script>

@{
    //Declare Report
    ReportsProj.Reports.Rep_Organization_Id MyReport = new ReportsProj.Reports.Rep_Organization_Id();

    // Add DataSource
    MyReport.DataSource = TempData["MyDatasource"];

    // Specify the report properties
    MyReport.FilterString = "[Id] In (" + TempData["P_Id"] + ")";
    MyReport.Parameters["UserName"].Value = TempData["P_UserName"];
    MyReport.RequestParameters = false;


    //using (MemoryStream ms = new MemoryStream())
    //{
    //    XtraReport1 r = new XtraReport1();
    //    r.CreateDocument();
    //    PdfExportOptions opts = new PdfExportOptions();
    //    opts.ShowPrintDialogOnOpen = true;
    //    r.ExportToPdf(ms, opts);
    //    ms.Seek(0, SeekOrigin.Begin);
    //    byte[] report = ms.ToArray();
    //    Page.Response.ContentType = "application/pdf";
    //    Page.Response.Clear();
    //    Page.Response.OutputStream.Write(report, 0, report.Length);
    //    Page.Response.End();
    //}



    //DevExpress.XtraPrinting.PdfExportOptions bbb = new DevExpress.XtraPrinting.PdfExportOptions();
    //bbb.ShowPrintDialogOnOpen = true;
    //MyReport.ExportToPdf("D:\\asd.pdf", bbb);
    //return;



    // Go To Print
    @Html.DevExpress().WebDocumentViewer("DocumentViewer").Height("1000px").Bind(MyReport)
}